CREATE DATABASE TPC_Taller
USE TPC_Taller
GO

CREATE TABLE Clientes
(
    ID int IDENTITY (1,1) NOT NULL,
    Nombre varchar(30),
    Apellido varchar(30),
    Email varchar(50),
    DNI int,
    Telefono varchar(20),		
    FechaNac datetime,
    Direccion varchar(50),
    IDVehiculo int,
    Activo bit
);



CREATE TABLE Usuarios
(
    ID int IDENTITY (1,1) NOT NULL,
    Nombre varchar(50),
    Apellido varchar(50),
    DNI int,
    FechaNac datetime,
    Email varchar(50),
    Telefono varchar(20),
    Direccion varchar(50),
    FechaRegistro datetime,
    IdEspecialidad varchar(50),
    Categoria varchar(50),
    Contrasenia varchar(20),
    IdRol int,
    Estado bit
)

CREATE TABLE Roles
(
    ID int IDENTITY (1,1) NOT NULL,
    NombreRol varchar(50)
);


CREATE TABLE Especialidades
(
    ID int IDENTITY (1,1) NOT NULL,
    NombreEspecialidad varchar(20)
);


CREATE TABLE Vehiculos
(
    ID int IDENTITY (1,1) NOT NULL,
    Marca varchar(20),
    Modelo varchar(20),
    Anio int,
    Patente varchar(10),
    TipoVehiculo varchar(15),
    IdCliente int
);

GO

CREATE TABLE OrdenDeTrabajo (
    ID INT IDENTITY(1,1),
    FechaCreacion DATETIME,
    IdCliente INT,
    IdVehiculo INT,
    HorasTeoricas INT, 
    HorasReales INT, 
    FechaFinalizacion DATETIME,
    Observaciones VARCHAR(200),
    Total DECIMAL,
    Cobrado BIT,
    IdEmpleado INT,
    Estado INT,
    CreadoPor INT,
);

CREATE TABLE Servicios (
    ID INT IDENTITY(1,1),
    NombreServicio VARCHAR(100),
    Descripcion VARCHAR(200),
    Precio DECIMAL
);

CREATE TABLE OrdenServicio (
    IdOrden INT,
    IdServicio INT,
);

CREATE TABLE EstadoOrden (
    ID INT PRIMARY KEY IDENTITY(1,1),
    NombreEstado VARCHAR(100)
);
GO


CREATE TABLE Modelos  
(
    ID int IDENTITY (1,1) NOT NULL,
    IDMarca int,
    NombreModelo varchar(50)
);

go

CREATE TABLE MARCAS
(
	ID INT IDENTITY (1,1) NOT NULL,
	NombreMarca varchar(50)
)


CREATE procedure [dbo].[spAltaCliente]
@Nombre varchar(50),
@Apellido varchar(50),
@Email varchar(50),
@DNI int,
@Telefono varchar(20),
@FechaNac datetime,
@Direccion varchar(50)
as
insert into CLIENTES(Nombre,Apellido,Email,DNI,Telefono,FechaNac,Direccion,Activo) VALUES (@Nombre,@Apellido,@Email,@DNI,@Telefono,@FechaNac,@Direccion,1)

CREATE procedure [dbo].[spAltaUsuario]
@Nombre varchar(50),
@Apellido varchar(50),
@DNI int,
@FechaNac datetime,
@Email varchar(50),
@Telefono varchar(20),
@Direccion varchar(50),
@Especialidad varchar(50),
@Categoria varchar(50),
@Contrasenia varchar(20)
as
insert into Usuarios(Nombre,Apellido,DNI,FechaNac,Email,Telefono,Direccion,FechaRegistro,IdEspecialidad,Categoria,Contrasenia,IdRol,Estado) VALUES (@Nombre,@Apellido,@DNI,@FechaNac,@Email,@Telefono,@Direccion,getdate(),@Especialidad,@Categoria,@Contrasenia,2,1)


GO

INSERT INTO MARCAS(NombreMarca) values ('TOYOTA')
INSERT INTO MARCAS(NombreMarca) values ('FORD')
INSERT INTO MARCAS(NombreMarca) values ('HONDA')
INSERT INTO MARCAS(NombreMarca) values ('CHEVROLET')

Insert into Modelos(IDMarca,NombreModelo) VALUES (1,'Corolla')
Insert into Modelos(IDMarca,NombreModelo) VALUES (1,'Camry')
Insert into Modelos(IDMarca,NombreModelo) VALUES (1,'Prius')
Insert into Modelos(IDMarca,NombreModelo) VALUES (1,'RAV4')
Insert into Modelos(IDMarca,NombreModelo) VALUES (1,'Highlander')
Insert into Modelos(IDMarca,NombreModelo) VALUES (1,'Tacoma')
Insert into Modelos(IDMarca,NombreModelo) VALUES (1,'Tundra')
Insert into Modelos(IDMarca,NombreModelo) VALUES (1,'Sienna')
Insert into Modelos(IDMarca,NombreModelo) VALUES (1,'Yaris')
Insert into Modelos(IDMarca,NombreModelo) VALUES (1,'Avalon')



Insert into Modelos(IDMarca,NombreModelo) VALUES (2,'F-150')
Insert into Modelos(IDMarca,NombreModelo) VALUES (2,'Mustang')
Insert into Modelos(IDMarca,NombreModelo) VALUES (2,'Explorer')
Insert into Modelos(IDMarca,NombreModelo) VALUES (2,'Escape')
Insert into Modelos(IDMarca,NombreModelo) VALUES (2,'Focus')
Insert into Modelos(IDMarca,NombreModelo) VALUES (2,'Fusion')
Insert into Modelos(IDMarca,NombreModelo) VALUES (2,'Edge')
Insert into Modelos(IDMarca,NombreModelo) VALUES (2,'Ranger')
Insert into Modelos(IDMarca,NombreModelo) VALUES (2,'Expedition')
Insert into Modelos(IDMarca,NombreModelo) VALUES (2,'Fiesta')


Insert into Modelos(IDMarca,NombreModelo) VALUES (3,'Accord')
Insert into Modelos(IDMarca,NombreModelo) VALUES (3,'Civic')
Insert into Modelos(IDMarca,NombreModelo) VALUES (3,'CR-V')
Insert into Modelos(IDMarca,NombreModelo) VALUES (3,'Pilot')
Insert into Modelos(IDMarca,NombreModelo) VALUES (3,'Odyssey')
Insert into Modelos(IDMarca,NombreModelo) VALUES (3,'Fit')
Insert into Modelos(IDMarca,NombreModelo) VALUES (3,'Ridgeline')
Insert into Modelos(IDMarca,NombreModelo) VALUES (3,'HR-V')
Insert into Modelos(IDMarca,NombreModelo) VALUES (3,'Passport')
Insert into Modelos(IDMarca,NombreModelo) VALUES (3,'Insight')


Insert into Modelos(IDMarca,NombreModelo) VALUES (4,'Silverado')
Insert into Modelos(IDMarca,NombreModelo) VALUES (4,'Equinox')
Insert into Modelos(IDMarca,NombreModelo) VALUES (4,'Malibu')
Insert into Modelos(IDMarca,NombreModelo) VALUES (4,'Traverse')
Insert into Modelos(IDMarca,NombreModelo) VALUES (4,'Colorado')
Insert into Modelos(IDMarca,NombreModelo) VALUES (4,'Agile')
Insert into Modelos(IDMarca,NombreModelo) VALUES (4,'Suburban')
Insert into Modelos(IDMarca,NombreModelo) VALUES (4,'Blazer')
Insert into Modelos(IDMarca,NombreModelo) VALUES (4,'Camaro')
Insert into Modelos(IDMarca,NombreModelo) VALUES (4,'Classic')

go
Insert into Usuarios(Nombre,Apellido,DNI,FechaNac,Email,Telefono,Direccion,FechaRegistro,IdEspecialidad,Categoria,Contrasenia,IdRol,Estado) Values ('Pedro','Perez','111111',01/01/1910,'pperez@perez.com','0114444111','Av Siempre viva 123',getdate(),null,'Aprendiz','asd123',2,1)

go

Insert into Clientes(Nombre,Apellido,Email,DNI,Telefono,FechaNac,Direccion,Activo) Values ('Maria','Perez','maria@gmail.com',24156896,'4444-5555',28/01/1979,'Gral Paz 1500',1)
Insert into Clientes(Nombre,Apellido,Email,DNI,Telefono,FechaNac,Direccion,Activo) Values ('Luis','Marquez','luis@gmail.com',25748963,'5555-8888',27037,'San Martin 180',1)
Insert into Clientes(Nombre,Apellido,Email,DNI,Telefono,FechaNac,Direccion,Activo) Values ('Marcelo','Mas','marcelo@gmail.com',27859365,'7777-1141',27614,'Talcahuano 852',1)


GO
INSERT INTO Servicios(NombreServicio,Descripción,Precio) VALUES ('Distribucion nafta 8v','Distribucion Nafta 8v simple Fiat Duna, 147, Gol',106400)
INSERT INTO Servicios(NombreServicio,Descripción,Precio) VALUES ('Distribucion nafta Motor Dragon ','Distribucion Nafta Motor Dragon o similar',279460)
INSERT INTO Servicios(NombreServicio,Descripción,Precio) VALUES ('Distribucion nafta 8v viejo','Distribucion Nafta 8v Fire viejo, Corsa, etc ',130000)
INSERT INTO Servicios(NombreServicio,Descripción,Precio) VALUES ('Embrague Gol ','Embrague simple VW Gol',250000)
INSERT INTO Servicios(NombreServicio,Descripción,Precio) VALUES ('Embrague simple naftero','Embrague simple Siena naftero o similar, camionetas viejas simples ',269990)
INSERT INTO Servicios(NombreServicio,Descripción,Precio) VALUES ('Embrague complejo o crapodina hidraulica ','Embrague complejo Renault o similar o crapodina hidraulica  ',287280)

<<<<<<< HEAD

insert into Roles values ('Admin')
insert into Roles values ('Empleado')
=======
go

Insert into Vehiculos(NombreVehiculo,Marca,Modelo,Anio,Patente,TipoVehiculo,IdCliente) Values ('Corolla AG7859',1,1,2020,'AG7859','con baul',1)

Insert into Vehiculos(NombreVehiculo,Marca,Modelo,Anio,Patente,TipoVehiculo,IdCliente) Values ('Focus AF1489',2,15,2019,'AF1489','con baul',2)

Insert into Vehiculos(NombreVehiculo,Marca,Modelo,Anio,Patente,TipoVehiculo,IdCliente) Values ('Fit AF2356',3,26,2019,'AF2356','con baul',3)

go

INSERT INTO EstadoOrden(Nombre) VALUES ('PENDIENTE')
INSERT INTO EstadoOrden(Nombre) VALUES ('EN PROGRESO')
INSERT INTO EstadoOrden(Nombre) VALUES ('ESPERANDO REPUESTOS')
INSERT INTO EstadoOrden(Nombre) VALUES ('ESPERANDO APROBACION CLIENTE')
INSERT INTO EstadoOrden(Nombre) VALUES ('COMPLETADO')
INSERT INTO EstadoOrden(Nombre) VALUES ('FACTURADO')
INSERT INTO EstadoOrden(Nombre) VALUES ('CERRADO')
INSERT INTO EstadoOrden(Nombre) VALUES ('CANCELADO')

go


GO

INSERT INTO Usuarios(Nombre,Apellido,DNI,FechaNac,Email,Telefono,Direccion,FechaRegistro,IdEspecialidad,Categoria,Contrasenia,IdRol,Estado) VALUES ('ADMIN','ADMIN',12111111,25/05/1978,'admin@admin.com','1188951665','Av. San Martin 1589 Martinez',15/03/2024,'ADMIN','ADMIN','123456',1,1)
INSERT INTO Usuarios(Nombre,Apellido,DNI,FechaNac,Email,Telefono,Direccion,FechaRegistro,IdEspecialidad,Categoria,Contrasenia,IdRol,Estado) VALUES ('Mariano','Lopez',35789456,01/03/1985,'mariano@gmail.com','1145741559','Jujuy 895 San Martin',15/03/2024,'MECANICO','AYUDANTE','123456',2,1)
INSERT INTO Usuarios(Nombre,Apellido,DNI,FechaNac,Email,Telefono,Direccion,FechaRegistro,IdEspecialidad,Categoria,Contrasenia,IdRol,Estado) VALUES ('Luis','Gomes',29159863,17/07/1980,'luis@gmail.com','1185259636','Brasil 452 Villa Martelli',15/03/2024,'MECANICO','EXPERTO','123456',2,1)
INSERT INTO Usuarios(Nombre,Apellido,DNI,FechaNac,Email,Telefono,Direccion,FechaRegistro,IdEspecialidad,Categoria,Contrasenia,IdRol,Estado) VALUES ('Sergio','Paz',26854741,03/04/1979,'sergio@gmail.com','1148792585','Latorre 896 Villa Ballester',15/03/2024,'MOTORISTA','EXPERTO','123456',2,1)
INSERT INTO Usuarios(Nombre,Apellido,DNI,FechaNac,Email,Telefono,Direccion,FechaRegistro,IdEspecialidad,Categoria,Contrasenia,IdRol,Estado) VALUES ('Fernando','Brondino',30879654,01/08/1981,'fernando@gmail.com','1125468475','Gdor. Castro 859 Boulogne',15/03/2024,'MECANICO','CALIFICADO','123456',2,1)
INSERT INTO Usuarios(Nombre,Apellido,DNI,FechaNac,Email,Telefono,Direccion,FechaRegistro,IdEspecialidad,Categoria,Contrasenia,IdRol,Estado) VALUES ('Gabriel','Perez',38264896,15/09/1990,'gabriel@gmail.com','1136957845','Dardo Rocha 847 San Isidro',15/03/2024,'MECANICO','CALIFICADO','123456',2,1)
INSERT INTO Usuarios(Nombre,Apellido,DNI,FechaNac,Email,Telefono,Direccion,FechaRegistro,IdEspecialidad,Categoria,Contrasenia,IdRol,Estado) VALUES ('Pedro','Gonzalez',39845174,01/05/1991,'pedro@gmail.com','1178452897','Av. Cabildo 5470 CABA',15/03/2024,'MECANICO','EXPERTO','123456',2,1)
INSERT INTO Usuarios(Nombre,Apellido,DNI,FechaNac,Email,Telefono,Direccion,FechaRegistro,IdEspecialidad,Categoria,Contrasenia,IdRol,Estado) VALUES ('Juan','Gutierrez',41896523,18/12/1992,'juan@gmail.com','1147969473','Dean Funes 355 San Martin',15/03/2024,'MECANICO','AYUDANTE','123456',2,1)

GO

>>>>>>> 02030d3c6596a7826cc156e74d4fa083d3978c8f
